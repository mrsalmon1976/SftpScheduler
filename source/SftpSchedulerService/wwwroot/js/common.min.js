var JobTypes,UserRoles,BusMessages;const{createApp}=Vue,emitter=mitt();JobTypes={};Object.defineProperty(JobTypes,"Download",{value:"1",writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(JobTypes,"Upload",{value:"2",writable:!1,enumerable:!0,configurable:!1});UserRoles={};Object.defineProperty(UserRoles,"Admin",{value:"Admin",writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(UserRoles,"User",{value:"User",writable:!1,enumerable:!0,configurable:!1});BusMessages={};Object.defineProperty(BusMessages,"PageHeader",{value:"PageHeader",writable:!1,enumerable:!0,configurable:!1});class UiHelpers{static formatDateTime(n){var n=moment(n);return n.isValid()?n.format("YYYY-MM-DD HH:mm:SS"):""}static setPageHeader(n){emitter.emit(BusMessages.PageHeader,n)}static showErrorToast(n,t,i,r=0){var u=r>0;$(document).Toasts("create",{"class":"bg-danger",title:n,subtitle:t,body:i,autohide:u,delay:r})}static showSuccessToast(n,t,i){$(document).Toasts("create",{"class":"bg-success",title:n,subtitle:t,body:i,autohide:!0,delay:2e3})}static showWarningToast(n,t,i){$(document).Toasts("create",{"class":"bg-warning",title:n,subtitle:t,body:i,autohide:!0,delay:2e3})}static debounce(n,t){var i=null;return function(){clearTimeout(i);var r=arguments,u=this;i=setTimeout(function(){n.apply(u,r)},t)}}}createApp({data(){return{pageHeader:"Loading..."}},methods:{},mounted:function(){emitter.on(BusMessages.PageHeader,n=>{this.pageHeader=n})}}).mount("#app-header");createApp({data(){return{jobNotificationBadgeClass:"badge-success",jobNotifications:[]}},methods:{async loadJobNotifications(n){var t="/api/notifications/jobs";n&&(t=t+"?forceReload=true");let i=await axios.get(t).catch(n=>{UiHelpers.showErrorToast("Error","",n.message);return});this.jobNotifications=this.resetJobNotificationStyles(i.data)},resetJobNotificationStyles(n){for(var t,i="",r=0;r<n.length;r++)t=n[r],t.notificationType=="Error"?(i.length==0&&(i="badge-danger"),t.textClass="text-danger",t.text="["+t.jobName+"] failed on it's last execution"):t.notificationType=="Warning"&&(i.length==0&&(i="badge-warning"),t.textClass="text-warning",t.text="["+t.jobName+"] failed in the last 24 hours");return i.length==0&&(i="badge-success"),this.jobNotificationBadgeClass=i,n}},mounted:function(){this.loadJobNotifications(!1)}}).mount("#app-menu");