createApp({data(){return{isLoading:!0,isNewVersionAvailable:!1,latestVersion:"0.0",jobTotalCount:"Loading...",jobFailingCount:"Loading...",jobFailingPercentage:0,jobFailingClass:"bg-info"}},methods:{async checkVersion(){let n=await axios.get("/api/update/check").catch(n=>{console.log(n.message)});this.isNewVersionAvailable=n.data.isNewVersionAvailable;this.latestVersion=n.data.latestReleaseVersionNumber},calculatePercentage(n,t){var i=parseInt(n),r=parseInt(t),u=i/r*100;return parseInt(u)},async loadStats(){this.isLoading=!0;let n=await axios.get("/api/dashboard/stats").catch(n=>{UiHelpers.showErrorToast("Error","",n.message),this.isLoading=!1});this.jobTotalCount=n.data.jobTotalCount;this.jobFailingCount=n.data.jobFailingCount;this.jobFailingPercentage=this.calculatePercentage(this.jobFailingCount,this.jobTotalCount);this.jobFailingClass=this.jobFailingPercentage==0?"bg-success":"bg-danger";this.isLoading=!1}},mounted:function(){UiHelpers.setPageHeader("Dashboard");this.isLoading=!1;this.loadStats();this.checkVersion()}}).mount("#app-dashboard");