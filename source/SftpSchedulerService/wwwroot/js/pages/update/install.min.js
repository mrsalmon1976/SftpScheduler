createApp({data(){return{isUpdating:!1,pageHeader:"A new version of SftpScheduler is available for download."}},methods:{checkVersion(){var n=!0;setInterval(function(){console.log("Checking for update...");axios.get("/api/update/check").then(t=>{n=t.data.isNewVersionAvailable,n?console.log("Update still in progress, waiting 10 seconds...."):window.location.href="/"}).catch(()=>{console.log("SftpScheduler not available, waiting 10 seconds....")})},5e3)},initiateInstall(){axios.post("/api/update/install").catch(n=>{UiHelpers.showErrorToast("Error","",n.message)})},update(){this.isUpdating=!0;this.pageHeader="Update in Progress";this.initiateInstall();this.checkVersion()}},mounted:function(){UiHelpers.setPageHeader("Updating SftpScheduler")}}).mount("#app-update");