const{createApp}=Vue;createApp({data(){return{hosts:[],isLoading:!0,selectedHost:new HostModel}},methods:{async deleteHost(n){var t=this;if(this.isLoading=!0,this.selectedHost!=null&&n.length>0){let i=await axios.delete("/api/hosts/"+n).then(()=>{t.loadHosts()}).catch(n=>{UiHelpers.showErrorToast("Error","",n.message),t.isLoading=!1}).then(()=>{$("#modal-delete-host").modal("toggle")})}},async loadHosts(){this.isLoading=!0;let n=await axios.get("/api/hosts").catch(n=>{UiHelpers.showErrorToast("Error","",n.message),this.isLoading=!1});this.hosts=n.data;this.isLoading=!1},showDeleteDialog(n){if(n.jobCount>0){UiHelpers.showErrorToast("Error","","You cannot a delete a host that has attached jobs");return}this.selectedHost=n;$("#modal-delete-host").modal()}},mounted:function(){this.isLoading=!1;this.loadHosts()}}).mount("#app-host");