const{createApp}=Vue;createApp({data(){return{isLoading:!0,host:new HostModel,scanDialogText:"",isScanError:!1,keyFingerprints:[]}},methods:{async showScanDialog(){if(this.isScanError=!1,this.keyFingerprints=[],this.scanDialogText="Scanning host for fingerprint values using SHA-256 and MD5 algorithms...",$("#modal-scan-fingerprint").modal(),!this.host.validate()){this.isScanError=!0;this.scanDialogText="The captured host details are invalid - unable to scan for fingerprint.";return}axios.post("/api/hosts/scanfingerprint",this.host).then(n=>{this.scanDialogText="",this.keyFingerprints=n.data}).catch(n=>{var r,t,i;if(this.isScanError=!0,n.response&&n.response.data&&n.response.data.errorMessages){for(r=n.response.data.errorMessages,t="",i=0;i<r.length;i++)t=t+r[i]+"<br />";this.scanDialogText=t}else this.scanDialogText=n.message})},setKeyFingerPrint(n){this.host.keyFingerprint=n;$("#modal-scan-fingerprint").modal("toggle")},async submit(){if(this.isLoading=!0,$("#toastsContainerTopRight > .toast").remove(),!this.host.validate()){this.isLoading=!1;return}axios.post("/api/hosts",this.host).then(()=>{window.location.href="/hosts"}).catch(n=>{var i,t;if(n.response&&n.response.data&&n.response.data.errorMessages)for(i=n.response.data.errorMessages,t=0;t<i.length;t++)UiHelpers.showErrorToast("Validation Error","",i[t]);else UiHelpers.showErrorToast("Validation Error","",n.message);this.isLoading=!1})}},mounted:function(){this.isLoading=!1}}).mount("#app-host");