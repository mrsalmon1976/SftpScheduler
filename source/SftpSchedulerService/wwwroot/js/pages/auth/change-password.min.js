createApp({data(){return{passwordCurrent:"",passwordNew:"",passwordConfirm:"",isPasswordNewValid:!1,isPasswordConfirmValid:!0,isLoading:!0,isValid:!1}},methods:{async updatePassword(){if(this.validate()){var n=this;this.isLoading=!0;let t={newPassword:this.passwordNew,currentPassword:this.passwordCurrent},i=await axios.post("/api/auth/change-password",t).then(function(){n.passwordCurrent="";n.passwordNew="";n.passwordConfirm="";n.validate();UiHelpers.showSuccessToast("Password Changed!","","Your password has been successfully changed");n.isLoading=!1}).catch(function(t){var r,i;if(t.response&&t.response.data&&t.response.data.errorMessages)for(r=t.response.data.errorMessages,i=0;i<r.length;i++)UiHelpers.showErrorToast("Validation Error","",r[i]);else UiHelpers.showErrorToast("Validation Error","",t.message);n.isLoading=!1})}},validate(){return this.isPasswordNewValid=this.passwordNew.length>=5,this.isPasswordConfirmValid=this.passwordNew==this.passwordConfirm,this.isValid=this.isPasswordNewValid&&this.isPasswordConfirmValid,this.isValid}},mounted:function(){UiHelpers.setPageHeader("Change Password");this.isLoading=!1;document.getElementById("passwordNew").focus()}}).mount("#app-change-password");